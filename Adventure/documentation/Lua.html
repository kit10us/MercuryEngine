<html>
<header>
<title>Lua for Adveture</title>
<style type="text/css">
h1 {
	display: inline;
}
</style>
</header>
<body>

<h1>LUA for Adventure</h1>
<p>
This document describes the ways you can interact with Adventure using LUA.
</p>

<a id="toc">
<h1>Table of Contents</h2>
</a>
<ol>
 <li><a href="#overview">Overview</a></li>
 <li><a href="#debug">Debug</a></li>
 <li><a href="#game">Game</a></li>
 <li><a href="#scene">Scene</a></li>
 <li><a href="#object">Object</a></li>
 <li><a href="#objectcomponent">Object Component</a></li>
 <li><a href="#angle">Angle</a></li>
 <li><a href="#color">Color</a></li>
 <li><a href="#matrix">Matrix</a></li> 
 <li><a href="#quaternion">Quaternion</a></li> 
 <li><a href="#size2">Size2</a></li>
 <li><a href="#size3">Size3</a></li>
 <li><a href="#texcoords">TexCoords</a></li>
 <li><a href="#v2">V2</a></li>
 <li><a href="#v3">V3</a></li>
</ol>
 
 <a id="overview">
 <h1>Overview</h1>
 </a>
 <a href="#toc">[back to top]</a>
 
 <h2>Game flow</h2>
 <p>
 It is necessary to have a basic understanding of the flow of the game.
 The following is a brief overview on the game flow.
 </p>
 
 <ul>
 <li><b>Initialize</b> - Initialize handles engine intialization, and all startup functions.</li>
 <ol>
 <li><i>initialize basic data</i> - At this point, commandline parameters are parsed, XML configuration files are loaded, and various other fundemental initializations takes place.</li>
 <li><i>create displays</i> - The displays are created, and other pieces depending on them.</li>
 <li><b>OS Startup</b> - The Operating System pieces are initalized.</li>
 <li><b>Script GameModule OnInit</b> - If a game module was specified from the XML, it's OnInit is called.</li>
 <li><b>Game Startup</b> - Adventure's code Startup is called.</li>
 <li><b>Script GameModule OnStart</b> - If a game module was specified from the XML, it's OnStart is called.</li>
 </ol>
 </ul>
 
 <h2>Instanced vs non-instanced objects</h2>
 <p>
 LUA supports two ways of interfacting with an object, depending of if their are instanced or not instanced. 
 Instanced objects are objects who are created, or instanced, from a non-instanced object.
 These are stored in variables by what ever name choosen.
 Non-instanced objects have no instancing; there is only one of them.
 All instanced objects come form non-instanced objects.
 </p>
 <p>
 You access functions for non-instanced objects using a dot (.).
 You access functions for instanced objects by their variables, and with a semi-colon (:).
 </p>
 <p>
 To instance an object, you must use the non-instanced object's name as a function.
 <p>
 <b>Here is an example:</b>
 </p>
 <p>
 <code>
 &nbsp;&nbsp;&nbsp;types = Fruit.Types()</br>
 &nbsp;&nbsp;&nbsp;first = Fruit( 0 )<br/>
 &nbsp;&nbsp;&nbsp;print( first:Name() )<br/>

 &nbsp;&nbsp;&nbsp;last = Fruit( types - 1 )<br/>
 &nbsp;&nbsp;&nbsp;print( last:Name() )<br/>

 &nbsp;&nbsp;&nbsp;banana = Fruit( "banana" )<br/>
 &nbsp;&nbsp;&nbsp;print( banana:Name() )<br/>
</code>
 <p>
 In the example above, we first access the non-instanced Fruit object's Types function, using a dot (.), to get the number of types of fruit (0 to N).
 We then create using the non-instanced object constructor/creator function by the same name of the non-instanced object.
 This produces an instance of Fruit called "first".
 We access the instanced Fruit's name, using a semicolon, to get the instanced fruit's name.
 </p>
 <h2>Optional parameters</h2>
 <p>
 Some functions have optional parameters. They are noted with square braces. For example: function( a[, b] ), means the function requires 'a', however 'b' is optional. 
 </p>
 
 <br/>
 <a id="debug">
 <h1>Debug</h1>
 </a>
 <a href="#toc">[back to top]</a>
 <p>
 Debug is used to access the debug features within Adventure.
 </p>
 <h2>Non-Instanced functions</h2>
 <ul>
 <li><b>Debug.LogLine( message )</b> - Write to the log and add a new line.</li>
 </ul> 
 <h2>Instanced functions</h2>
 <p>
 <b>None</b>
 </p>
 
 <a id="game">
 <h1>Game</h1>
 </a>
<a href="#toc">[back to top]</a>
 <p>
 Game is used to access fundemental game features.
 </p>
 
 <a id="scene">
 <h1>Scene</h1>
 </a>
 <a href="#toc">[back to top]</a>
 <p>
 Scenes are used to manage scene objects.
 </p>
 <h2>Non-Instanced functions</h2>
 <ul>
 <li><b>Scene( name )</b> - Create a new scene. Critical failure if scene not found.</li>
 <li><b>Scene.FindScene( name )</b> - Returns an existing scene, or nil if scene was not found.</li>
 </ul> 
 <h2>Instanced functions</h2>
 <ul>
   <li><b><i>scene</i>:GetName()</b> - Get the name of the scene.</li>
   <li><b><i>scene</i>:NewObject( name )</b> - Creates a scene object, and adds it to the scene.</li>
   <li><b><i>scene</i>:NewCamera( name )</b> - Creates a scene objects and adds a camera component to it.</li>
   <li><b><i>scene</i>:FindObject( name )</b> - Find an existing scene object.</li>
   <li><b><i>scene</i>:GetObjectCount()</b> - Get the number of scene objects the scene owns.</li>
 </ul> 
 <a id="object"> 
 <h1>Object</h1>
 </a>
 <a href="#toc">[back to top]</a>
 <p>
 Object is used to access scene objects. Scene objects are created from the Scene object, and <b>not</b> from this object.
 </p>
 <h2>Non-Instanced functions</h2>
 <p>
 <b>None</b>
 </p>
 <h2>Instanced functions</h2>
 <ul>
 <li><b><i>object</i>:AddScript( name, type, source )</b> - Add a script to the object. Scripts are actually object components, and can be acessed like other object components.</li>
<li><b><i>object</i>:GetName()</b> - Get the name of the object.</li>
<li><b><i>object</i>:SetEnabled( boolean )</b> - Enables or disables the object.</li>
<li><b><i>object</i>:GetEnabled()</b> - Returns true if the object is enabled, else returns false.</li>
 </ul> 

 <a id="objectcomponent"> 
 <h1>Object Component</h1>
 </a>
 <a href="#toc">[back to top]</a>
 <p>
 Object is used to access scene objects. Scene objects are created from the Scene object, and <b>not</b> from this object. Objects have a standardized way of accessing values. These values are accessed by either an index or a name.
 </p>
 <h2>Non-Instanced functions</h2>
 <p>
 <b>None</b>
 </p>
 <h2>Instanced functions</h2>
 <ul>
 <li><b><i>component</i>:AttachTo( object )</b> - Attach a component to an object.</li>
 <li><b><i>component</i>:SetEnabled( boolean )</b> - Enables or disables the component.</li>
 <li><b><i>component</i>:GetEnabled()</b> - Returns true if the component is enabled, else returns false.</li>
 <li><b><i>component</i>:GetType()</b> - Get the type of the component.</li>
 <li><b><i>component</i>:GetWhat()</b> - Get a string that better describes the instance of the component.</li>
 <li><b><i>component</i>:GetValueCount()</b> - Get the number of values set for the component.</li>
 <li><b><i>component</i>:ValueExists( name )</b> - Returns true if the component has a value with a specific name, else returns false.</li>
 <li><b><i>component</i>:GetValueName( index )</b> - Get the name of a component's value by index.</li>
 <li><b><i>component</i>:GetValue( name )</b> - Get the values of a component value, by name.</li>
 <li><b><i>component</i>:GetValue( index )</b> - Get the values of a component value, by index.</li>
 <li><b><i>component</i>:SetValue( name, value )</b> - Set the values of a component value, by name.</li>
 <li><b><i>component</i>:SetValue( index, value )</b> - Set the values of a component value, by index.</li>
 </ul>  
 
 <a id="angle"> 
 <h1>Angle</h1>
 </a>
 <a href="#toc">[back to top]</a>
 <p>
 Angle is used to guarantee and angle is in the correct measurement.
 </p>
 <h2>Non-Instanced functions</h2>
 <ul>
 <li><b>Angle.Degrees( degrees )</b> - Returns a number of degrees.</li>
 <li><b>Angle.Radians( radians )</b> - Returns a number of radians.</li>
 </ul>  
 <h2>Instanced functions</h2>
 <p>
 <b>None</b>
 </p>
 
 <a id="color"> 
 <h1>Color</h1>
 </a>
 <a href="#toc">[back to top]</a>
 <p> 
 Color is used to produce and work with colors. Each component is a value between 0 (lowest) to 1, highest.
 </p>
 <h2>Non-Instanced functions</h2>
 <ul>  
 <li><b>Color.NewRGBA( red, green, blue, alpha )</b> - Returns a color.</li>
 <li><b>Color.NewARGB( alpha, red, green, blue )</b> - Returns a color.</li>
 <li><b>Color.NewRGB( red, green, blue )</b> - Returns a color.</li>
 <li><b>Color.NewWhite( [alpha] )</b> - Returns a color.</li>
 <li><b>Color.NewRed( intesity [, alpha] )</b> - Returns a color.</li>
 <li><b>Color.NewGreen( intesity [, alpha] )</b> - Returns a color.</li>
 <li><b>Color.NewBlue( intesity [, alpha] )</b> - Returns a color.</li>
 <li><b>Color.NewGrey( intesity [, alpha] )</b> - Returns a color.</li>
 <li><b>Color.NewBlack( [alpha] )</b> - Returns a color.</li>
 <li><b>Color.NewZero( [alpha] )</b> - Returns a color.</li>
 <li><b>Color.ToString( color )</b> - Converts a color to a string.</li>
 <li><b>Color.Add( color, color )</b> - Returns the result of an addition of two colors.</li>
 <li><b>Color.Sub( color, color )</b> - Returns the result of a subtraction of two colors.</li>
 <li><b>Color.Mul( color, color )</b> - Returns the result of a multiplication of two colors.</li>
 <li><b>Color.Div( color, color )</b> - Returns the result of a division of two colors.</li>
 <li><b>Color.Lerp( color, color, delta )</b> - Returns a color linearly interpreted between two colors. Delta is a value between 0 and 1, where 0 would be entirely the first color, and 1 the second color, and 0.5 a 50/50 mix of the two.</li>
 </ul>  
 <h2>Instanced functions</h2>
 <p>
 <b>None</b>
 </p>
 
 <a id="matrix"> 
 <h1>Matrix</h1>
 </a>
 <a href="#toc">[back to top]</a>
 <p> 
 Matrix is used to create and work with matrices.
 </p>
 <h2>Non-Instanced functions</h2>
 <ul>  
 <li><b>Matrix.NewIdentity()</b> - Returns an identity matrix.</li>
 <li><b>Matrix.NewZero()</b> - Returns a matrix full of 0s.</li>
 <li><b>Matrix.NewTranslate( <a href="#v3">v3</a> )</b> - Returns a translation matrix.</li>
 <li><b>Matrix.NewOrthoOffCenterLH( left, right, bottom, top, znear, zfar )</b> - Returns an orthographic off-centered left-handed matrix.</li>
 <li><b>Matrix.NewScale( number )</b> - Returns a scaling matrix.</li>
 <li><b>Matrix.NewScale( <a href="#v3">v3</a> )</b> - Returns a scaling matrix.</li>
 <li><b>Matrix.NewRotationAboutAxis( <a href="#v3">v3</a>, <a href="#angle">angle</a> )</b> - Returns a rotation matrix.</li>
 <li><b>Matrix.NewPerspectiveFovLH( width, height, znear, zfar )</b> - Returns a perspective field-of-view left-handed matrix.</li>
 <li><b>Matrix.NewRotationX( <a href="#angle">angle</a> )</b> - Returns a rotation about the x axis matrix.</li>
 <li><b>Matrix.NewRotationY( <a href="#angle">angle</a> )</b> - Returns a rotation about the x axis matrix.</li>
 <li><b>Matrix.NewRotationZ( <a href="#angle">angle</a> )</b> - Returns a rotation about the x axis matrix.</li>
 <li><b>Matrix.NewLookAtLH( <a href="#v3">eye</a>, <a href="#v3">at</a>, <a href="#v3">up</a> )</b> - Returns a "lookat" matrix, where eye is the position of the camera/viewer, at is where to look at, and up is the direction for up; all are v3s.</li>
 <li><b>Matrix.Add( a, b )</b> - Returns the result of adding two matrices.</li>
 <li><b>Matrix.Sub( a, b )</b> - Returns the result of subtracting two matrices.</li>
 <li><b>Matrix.Mul( a, b )</b> - Returns the result of multiplying two matrices.</li>
 <li><b>Matrix.Div( a, b )</b> - Returns the result of dividing two matrices.</li>
 </ul>  
 <h2>Instanced functions</h2>
 <p>
 <b>None</b>
 </p>
 
 <a id="quaternion"> 
 <h1>Quaternion</h1>
 </a>
 <a href="#toc">[back to top]</a>
 <p> 
 A quaternion represents a rotation.
 </p>
 <h2>Non-Instanced functions</h2>
 <ul>  
 <li><b>Quaternion.NewRotationX( <a href="#angle">angle</a> )</b> - Returns a rotation about the x-axis, quaternion.</li>
 <li><b>Quaternion.NewRotationY( <a href="#angle">angle</a> )</b> - Returns a rotation about the y-axis, quaternion.</li>
 <li><b>Quaternion.NewRotationZ( <a href="#angle">angle</a> )</b> - Returns a rotation about the z-axis, quaternion.</li>
 <li><b>Quaternion.New( x, y, z, w )</b> - Returns a quaternion from raw x, y, z and w components..</li>
 <li><b>Quaternion.NewFromEuler( pitch, roll, yaw )</b> - Returns a quaternion from euler coordinates.</li>
 <li><b>Quaternion.NewZero()</b> - Returns a zero quaternion.</li>
 <li><b>Quaternion.NewIdentity()</b> - Returns an identity quaternion.</li>
 <li><b>Quaternion.Add( quaternion, quaternion )</b> - Returns the result of adding two quaternions.</li>
 <li><b>Quaternion.Sub( quaternion, quaternion )</b> - Returns the result of subtracting two quaternions.</li>
 <li><b>Quaternion.Mul( quaternion, quaternion )</b> - Returns the result of multiplying two quaternions.</li>
 <li><b>Quaternion.Conjugate( quaternion )</b> - Returns the result of adding two quaternions.</li>
 <li><b>Quaternion.Normalize( quaternion )</b> - Returns the result of adding two quaternions.</li>
 <li><b>Quaternion.Slerp( quaternion, quaternion, delta )</b> - Returns the result of spherically-linear-interpolating between two quaternions by a delta (0 to 1). This produces an inbetween rotation between two rotations.</li>
 <li><b>Quaternion.ToString( quaternion )</b> - Converts a quaternion into a string.</li>
 </ul>  
 <h2>Instanced functions</h2>
 <p>
 <b>None</b>
 </p>

 <a id="size2"> 
 <h1>Size2</h1>
 </a>
 <a href="#toc">[back to top]</a>
 <p> 
 A two dimensional size consiting of a width and height component (s.width, s.height).
 </p>
 <h2>Non-Instanced functions</h2>
 <ul>  
 <li><b>Size2.New( width, height )</b> - Returns a new size of width and height.</li>
 <li><b>Size2.NewZero()</b> - Returns a size of zero (width = height = 0).</li>
 <li><b>Size2.Add( size, size )</b> - Returns the result of adding two sizes.</li>
 <li><b>Size2.Sub( size, size )</b> - Returns the result of subtracting two sizes.</li>
 <li><b>Size2.Mul( size, size )</b> - Returns the result of multiplying two sizes.</li>
 <li><b>Size2.Div( size, size )</b> - Returns the result of dividing two sizes.</li>
 <li><b>Size2.Units( size )</b> - Returns the result of multiplying size's width by it's height (width * height)</li>
 <li><b>Size2.ToString( size )</b> - Converts a size into a string.</li>
 </ul>  
 <h2>Instanced functions</h2>
 <p>
 <b>None</b>
 </p>
 
 <a id="size3"> 
 <h1>Size3</h1>
 </a>
 <a href="#toc">[back to top]</a>
 <p> 
 A three dimensional size consiting of a width, height and depth component (s.width, s.height, s.depth).
 </p>
 <h2>Non-Instanced functions</h2>
 <ul>  
 <li><b>Size3.New( width, height )</b> - Returns a new size of width and height.</li>
 <li><b>Size3.NewZero()</b> - Returns a size of zero (width = height = depth = 0).</li>
 <li><b>Size3.Add( size, size )</b> - Returns the result of adding two sizes.</li>
 <li><b>Size3.Sub( size, size )</b> - Returns the result of subtracting two sizes.</li>
 <li><b>Size3.Mul( size, size )</b> - Returns the result of multiplying two sizes.</li>
 <li><b>Size3.Div( size, size )</b> - Returns the result of dividing two sizes.</li>
 <li><b>Size3.Units( size )</b> - Returns the result of multiplying size's width by it's height and depth (width * height * depth).</li>
 <li><b>Size3.ToString( size )</b> - Converts a size into a string.</li>
 </ul>  
 <h2>Instanced functions</h2>
 <p>
 <b>None</b>
 </p>
 
 <a id="texcoords"> 
 <h1>TexCoords</h1>
 </a>
 <a href="#toc">[back to top]</a>
 <p> 
 Two dimensional texture coordinates consiting of a u and v component (tc.u, tc.v).
 </p>
 <h2>Non-Instanced functions</h2>
 <ul>  
 <li><b>TexCoords.New( u, v )</b> - Returns a new texture coordinate of u and v.</li>
 <li><b>TexCoords.NewZero()</b> - Returns texture coordinates of zero (u = v = 0).</li>
 <li><b>TexCoords.Add( tc, tc )</b> - Returns the result of adding two texture coordinates.</li>
 <li><b>TexCoords.Sub( tc, tc )</b> - Returns the result of subtracting two texture coordinates.</li>
 <li><b>TexCoords.Mul( tc, tc)</b> - Returns the result of multiplying two texture coordinates.</li>
 <li><b>TexCoords.Div( tc, tc )</b> - Returns the result of dividing two texture coordinates.</li>
 <li><b>TexCoords.Units( tc )</b> - Returns the result of multiplying texture coordinates' u by it's v (u * v).</li>
 <li><b>TexCoords.ToString( tc )</b> - Converts texture coordinates into a string.</li>
 </ul>  
 <h2>Instanced functions</h2>
 <p>
 <b>None</b>
 </p>
 
 <a id="v2"> 
 <h1>V2</h1>
 </a>
 <a href="#toc">[back to top]</a>
 <p> 
 Two dimensional vector consiting of x and y components (tc.x, tc.y).
 </p>
 <h2>Non-Instanced functions</h2>
 <ul>  
 <li><b>V2.New( x, y )</b> - Returns a new v2 of x and y.</li>
 <li><b>V2.NewZero()</b> - Returns v2 of zero (x = y = 0).</li>
 <li><b>V2.Add( v2, v2 )</b> - Returns the result of adding two v2.</li>
 <li><b>V2.Sub( v2, v2 )</b> - Returns the result of subtracting two v2.</li>
 <li><b>V2.Mul( v2, v2)</b> - Returns the result of multiplying two v2.</li>
 <li><b>V2.Div( v2, v2 )</b> - Returns the result of dividing two v2.</li>
 <li><b>V2.Length( v2 )</b> - Returns the result length of the v2 (x * y).</li>
 <li><b>V2.ToString( v2 )</b> - Converts a v2 into a string.</li>
 </ul>  
 <h2>Instanced functions</h2>
 <p>
 <b>None</b>
 </p>

 <a id="v3"> 
 <h1>V3</h1>
 </a>
 <a href="#toc">[back to top]</a>
 <p> 
 Three dimensional vector consiting of x, y, and z components (v3.x, v3.y, v3.z).
 </p>
 <h2>Non-Instanced functions</h2>
 <ul>  
 <li><b>V3.New( x, y, z )</b> - Returns a new v3 of x, y and z.</li>
 <li><b>V3.NewZero()</b> - Returns v2 of zero (x = y = x= 0).</li>
 <li><b>V3.Add( v3, v3 )</b> - Returns the result of adding two v3.</li>
 <li><b>V3.Sub( v3, v3 )</b> - Returns the result of subtracting two v3.</li>
 <li><b>V3.Mul( v3, v3 )</b> - Returns the result of multiplying two v3.</li>
 <li><b>V3.Div( v3, v3 )</b> - Returns the result of dividing two v3.</li>
 <li><b>V3.Length( v3 )</b> - Returns the result length of the v3 (x * y * z).</li>
 <li><b>V3.Normalize( v3 )</b> - Returns a normalized v3.</li>
 <li><b>V3.DistanceTo( v3, v3 )</b> - Returns the distance between two v3s.</li>
 <li><b>V3.Dot( v3, v3 )</b> - Returns the dot product of two v3s</li>
 <li><b>V3.Cross( v3 )</b> - Returns the cross product between two v3s.</li>
 <li><b>V3.Inverse( v3 )</b> - Returns the inverse of a v3.</li>
 <li><b>V3.Lerp( v3, v3, delta )</b> - Returns a linear interpolated v3 between two v3s.</li>
 <li><b>V3.ToString( v3 )</b> - Converts a v3 into a string.</li>
 </ul>  
 <h2>Instanced functions</h2>
 <p>
 <b>None</b>
 </p>
 
 </body>
</html>